/* path: assets/css/custom.css */
:root {
  --ps-primary: #63c36e;
  --ps-primary-dark: #3fbf5a;
  --ps-primary-rgb: 99, 195, 110;
  --ps-body: #101214;
  --ps-border: #e5efe6;
  --ps-muted: #f7faf7;
  /* Bootstrap variable overrides */
  --bs-primary: var(--ps-primary);
  --bs-primary-rgb: var(--ps-primary-rgb);
  --bs-body-bg: #ffffff;
  --bs-body-color: var(--ps-body);
  --bs-border-color: var(--ps-border);
  --bs-tertiary-bg: var(--ps-muted);
}

body { background: var(--bs-body-bg); color: var(--bs-body-color); font-family: 'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif; }

.navbar-line { backdrop-filter: saturate(180%) blur(6px); }
.navbar-line .nav-link { color: #3d4b59; font-weight: 500; }
.navbar-line .nav-link:hover, .navbar-line .nav-link.active { color: var(--bs-primary); }
.navbar-brand { letter-spacing: .2px; }

.card-video .card-img-top { aspect-ratio: 16/9; object-fit: cover; }

.favorite-toggle { position: absolute; right: .5rem; top: .5rem; }

.rating-star { color: #f2b01e; }

.form-help { font-size: .875rem; color: var(--bs-secondary-color); }

.calendar { --cell-min-h: 120px; }
.calendar .dow { display: grid; grid-template-columns: repeat(7, 1fr); gap: .5rem; margin-bottom: .5rem; }
.calendar .dow .name { text-align: center; font-weight: 600; color: var(--bs-secondary-color); }
.calendar .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: .5rem; }
.calendar .cell { position: relative; min-height: var(--cell-min-h); border: 1px solid #e9ecef; border-radius: .5rem; padding: .5rem .5rem 2.25rem; background: #fff; overflow: hidden; }
.calendar .cell:hover { box-shadow: 0 0.15rem 0.5rem rgba(0,0,0,.06); }
.calendar .cell .date { display: inline-flex; align-items: center; gap: .25rem; font-weight: 600; }
.calendar .cell.today { border-color: var(--bs-primary); box-shadow: inset 0 0 0 1px var(--bs-primary); }
.calendar .cell .add { position: absolute; right: .5rem; top: .5rem; }
.calendar .events { margin-top: .25rem; display: flex; flex-direction: column; gap: .25rem; }
.calendar .event { display: inline-flex; align-items: center; gap: .25rem; background: #f8f9fa; border: 1px solid #e9ecef; border-radius: .375rem; padding: .15rem .4rem; font-size: .85rem; }
.calendar .event .bi { color: var(--bs-primary); }
.calendar .sun { color: #d63384; }
.calendar .sat { color: var(--bs-primary); }
.calendar .muted { color: var(--bs-secondary-color); }

@media (max-width: 575.98px) {
  .calendar { --cell-min-h: 100px; }
}

/* FullCalendar theming inside #calendar */
#calendar {
  /* Use app theme for FullCalendar CSS variables */
  --fc-page-bg-color: var(--bs-body-bg);
  --fc-neutral-bg-color: var(--bs-tertiary-bg);
  --fc-neutral-text-color: var(--bs-body-color);
  --fc-border-color: var(--bs-border-color);

  --fc-button-text-color: var(--bs-primary);
  --fc-button-bg-color: #fff;
  --fc-button-border-color: var(--bs-primary);
  --fc-button-hover-bg-color: rgba(var(--bs-primary-rgb), .08);
  --fc-button-hover-border-color: var(--bs-primary);
  --fc-button-active-bg-color: var(--bs-primary);
  --fc-button-active-border-color: var(--bs-primary);
  --fc-button-active-text-color: #fff;

  --fc-today-bg-color: rgba(var(--bs-primary-rgb), .10);
  --fc-event-bg-color: var(--bs-tertiary-bg);
  --fc-event-border-color: var(--bs-border-color);
  --fc-event-text-color: var(--bs-body-color);
  --fc-list-event-hover-bg-color: rgba(var(--bs-primary-rgb), .06);
  --fc-highlight-color: rgba(var(--bs-primary-rgb), .08);
}
#calendar a,
#calendar .fc a {
  text-decoration: none !important;
  color: inherit !important;
}
#calendar a:hover,
#calendar a:focus,
#calendar a:active,
#calendar a:visited,
#calendar .fc a:hover,
#calendar .fc a:focus,
#calendar .fc a:active,
#calendar .fc a:visited {
  text-decoration: none !important;
  color: inherit !important;
}
#calendar .fc .fc-toolbar-title { font-size: 1.25rem; font-weight: 700; letter-spacing: -.01em; }
#calendar .fc .fc-button {
  border-radius: .5rem;
  background-color: #fff !important;
  border-color: var(--bs-primary) !important;
  color: var(--bs-primary) !important;
}
#calendar .fc .fc-button .fc-icon { color: inherit !important; }
#calendar .fc .fc-button:hover { background-color: rgba(var(--bs-primary-rgb), .08) !important; }
#calendar .fc .fc-button:focus { box-shadow: 0 0 0 .2rem rgba(var(--bs-primary-rgb), .2) !important; }
#calendar .fc .fc-button-primary,
#calendar .fc .fc-button-primary:enabled {
  background-color: var(--bs-primary) !important;
  border-color: var(--bs-primary) !important;
  color: #fff !important;
}
#calendar .fc .fc-button-primary:enabled:hover { filter: brightness(.95); }
#calendar .fc .fc-button-primary:disabled {
  background-color: var(--bs-primary) !important;
  border-color: var(--bs-primary) !important;
  color: #fff !important;
  opacity: .65;
}
#calendar .fc .fc-button:hover { background: var(--bs-tertiary-bg); }
#calendar .fc .fc-button-primary, 
#calendar .fc .fc-button-primary:enabled { background-color: var(--bs-primary); border-color: var(--bs-primary); color: #fff; }
#calendar .fc .fc-button-primary:enabled:hover { filter: brightness(.95); }
#calendar .fc .fc-daygrid-day-top { padding: .25rem .5rem; }
#calendar .fc .fc-daygrid-day-number,
#calendar .fc .fc-daygrid-day-number:link,
#calendar .fc .fc-daygrid-day-number:visited,
#calendar .fc .fc-daygrid-day-number:hover,
#calendar .fc .fc-daygrid-day-number:active,
#calendar .fc .fc-col-header-cell-cushion,
#calendar .fc .fc-col-header-cell-cushion:link,
#calendar .fc .fc-col-header-cell-cushion:visited,
#calendar .fc .fc-col-header-cell-cushion:hover,
#calendar .fc .fc-col-header-cell-cushion:active,
#calendar .fc .fc-daygrid-event a,
#calendar .fc .fc-daygrid-event a:link,
#calendar .fc .fc-daygrid-event a:visited,
#calendar .fc .fc-daygrid-event a:hover,
#calendar .fc .fc-daygrid-event a:active {
  font-weight: 600;
  text-decoration: none !important;
  color: var(--bs-body-color) !important;
}
#calendar .fc .fc-daygrid-event { background: var(--bs-tertiary-bg); border: 1px solid var(--bs-border-color); border-radius: .375rem; padding: 2px 6px; font-size: .85rem; }
#calendar .fc .fc-daygrid-event:hover { background: rgba(var(--bs-primary-rgb), .08); border-color: rgba(var(--bs-primary-rgb), .2); }
#calendar .fc .fc-day-sun .fc-daygrid-day-number { color: #dc3545; }
#calendar .fc .fc-day-sat .fc-daygrid-day-number { color: #0d6efd; }
#calendar .fc .fc-day-today { background-color: rgba(13,110,253,.08) !important; }
#calendar .fc .fc-more-link { text-decoration: none; color: var(--bs-primary); font-weight: 600; }

/* Buttons: softer primary */
.btn-primary { background-color: var(--bs-primary); border-color: var(--bs-primary); }
.btn-primary:hover { filter: brightness(0.95); }
.btn-outline-primary { color: var(--bs-primary); border-color: var(--bs-primary); }
.btn-outline-primary:hover { background-color: rgba(var(--bs-primary-rgb), .08); }
.btn-primary-subtle { background: rgba(var(--bs-primary-rgb), .08); color: var(--bs-primary); border: 1px solid rgba(var(--bs-primary-rgb), .15); }
.btn-primary-subtle:hover { background: rgba(var(--bs-primary-rgb), .12); }

/* Cards */
.card { border-color: var(--bs-border-color); border-radius: .75rem; }
.card .card-title { font-weight: 600; }
.card-video .card-img-top { border-top-left-radius: .75rem; border-top-right-radius: .75rem; }

/* Toasts */
.toast { border-radius: .75rem; }

/* ==== SSAFIT PocketSalad Theme Enhancements (appended) ==== */
/* Cards hover + radius */
.card { border-radius: 1rem; }
.card-video .card-img-top { border-top-left-radius: 1rem; border-top-right-radius: 1rem; }
.card-hover { transition: transform .16s ease, box-shadow .16s ease; }
.card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 24px rgba(0,0,0,.06); }

/* Inputs focus */
.form-control:focus, .form-select:focus, .form-check-input:focus {
  border-color: var(--bs-primary);
  box-shadow: 0 0 0 .2rem rgba(var(--bs-primary-rgb), .15);
}

/* Make action buttons match form-floating height */
.btn-eq-floating { height: calc(3.5rem + 2px); }

/* Avatar circle */
.avatar-circle { width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(var(--bs-primary-rgb), .15); color: var(--bs-primary); font-weight: 700; }

/* Author chip (clickable, no underline) */
.author-chip { display: inline-flex; align-items: center; gap: .35rem; border-radius: 9999px; padding: .2rem .6rem; border: 1px solid var(--bs-border-color); background: var(--bs-tertiary-bg); color: var(--bs-body-color); font-size: .875rem; text-decoration: none; }
.author-chip .bi { color: var(--bs-primary); }
.author-chip:hover { background: rgba(var(--bs-primary-rgb), .08); color: var(--bs-body-color); text-decoration: none; }
.author-chip:focus { outline: 0; box-shadow: 0 0 0 .2rem rgba(var(--bs-primary-rgb), .15); }

.avatar-circle-sm { width: 22px; height: 22px; display: inline-flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(var(--bs-primary-rgb), .15); color: var(--bs-primary); font-weight: 700; font-size: .75rem; }

/* Floating AI button */
.fab-ai { position: fixed; right: 20px; bottom: 20px; z-index: 1050; width: 56px; height: 56px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 10px 24px rgba(0,0,0,.18); }
.fab-ai .bi { font-size: 1.35rem; }

/* AI chat modal */
.ai-chat { display: flex; flex-direction: column; gap: .75rem; }
.ai-chat .messages { max-height: min(60vh, 520px); overflow: auto; border: 1px solid var(--bs-border-color); border-radius: .5rem; padding: .75rem; background: #fff; }
.ai-chat .msg { display: flex; align-items: flex-start; gap: .5rem; padding: .35rem 0; }
.ai-chat .msg .avatar { width: 28px; height: 28px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: 700; }
.ai-chat .msg.user .avatar { background: rgba(var(--bs-primary-rgb), .15); color: var(--bs-primary); }
.ai-chat .msg.ai .avatar { background: #333; color: #fff; }
.ai-chat .msg .bubble { background: var(--bs-tertiary-bg); border: 1px solid var(--bs-border-color); border-radius: .5rem; padding: .5rem .6rem; max-width: 100%; white-space: pre-wrap; word-break: break-word; }

/* Body part badge -> fresh pill */
.card-video .badge,
.badge.text-bg-secondary {
  background: rgba(var(--bs-primary-rgb), .12) !important;
  color: var(--bs-primary) !important;
  border: 1px solid rgba(var(--bs-primary-rgb), .2);
  font-weight: 600;
}

/* Primary buttons (gradient) */
.btn-primary { background-image: linear-gradient(135deg, var(--bs-primary), var(--ps-primary-dark)); border: none; color: #fff; }
.btn-primary:hover { filter: brightness(.98); }
.btn-outline-primary { color: var(--bs-primary); border-color: var(--bs-primary); }
.btn-outline-primary:hover { background: rgba(var(--bs-primary-rgb), .08); }
.btn-primary-subtle { background: rgba(var(--bs-primary-rgb), .08); color: var(--bs-primary); border: 1px solid rgba(var(--bs-primary-rgb), .15); }
.btn-primary-subtle:hover { background: rgba(var(--bs-primary-rgb), .12); }

/* Hero */
.hero-ps { position: relative; background: linear-gradient(180deg, rgba(var(--bs-primary-rgb), .06), rgba(var(--bs-primary-rgb), .02)); border: 1px solid var(--bs-border-color); border-radius: 1.25rem; padding: clamp(1.25rem, 3vw, 2rem); }
.hero-ps .title { font-weight: 800; letter-spacing: -.02em; }
.hero-ps .subtitle { color: #4f5b66; }
.hero-ps .accent { color: var(--bs-primary); }
.hero-img { width: 100%; aspect-ratio: 16 / 9; object-fit: cover; border-radius: 1rem; border: 1px solid var(--bs-border-color); display: block; }
.hero-carousel { border: 1px solid var(--bs-border-color); border-radius: 1rem; overflow: hidden; }
.hero-carousel .carousel-indicators [data-bs-target] { background-color: var(--bs-primary); }
.hero-carousel .carousel-control-prev, .hero-carousel .carousel-control-next { width: 3rem; }
.hero-carousel .carousel-control-prev-icon, .hero-carousel .carousel-control-next-icon {
  background-color: rgba(var(--bs-primary-rgb), .85);
  border-radius: 50%;
  background-size: 60%;
}

/* FullCalendar fine tune override */
#calendar .fc .fc-day-sun .fc-daygrid-day-number { color: #d63384 !important; }
#calendar .fc .fc-day-sat .fc-daygrid-day-number { color: var(--bs-primary) !important; }
#calendar .fc .fc-day-today { background-color: rgba(var(--bs-primary-rgb), .1) !important; }
#calendar .fc-theme-standard .fc-scrollgrid,
#calendar .fc-theme-standard td,
#calendar .fc-theme-standard th { border-color: var(--bs-border-color); }
#calendar .fc .fc-col-header-cell { background: var(--bs-tertiary-bg); }
.video-frame { border-radius: 1rem; overflow: hidden; border: 1px solid var(--bs-border-color); }
.video-frame iframe { border: 0; }
